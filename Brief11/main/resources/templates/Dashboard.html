<!DOCTYPE html>
<html lang="en"xmlns:th="http://www.thymeleaf.org"
xmlns:Layout="http://www.ultraq.net.nz/thyemleaf/layout"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<!-- layout:decorate="Header" -->

<head>
<meta charset="UTF-8">
<title>Employe</title>


<link rel ="stylesheet" type="text/css" href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css">
<script src="/webjars/bootstrap/5.1.3/js/bootstrap.bundel.js"> </script>

</head>
<body>
<header>
<nav class="navbar navbar-expand-sm bg-light">

  <div class="container-fluid">
    <!-- Links -->
    <ul class="navbar-nav">
      <li class="nav-item"><a class="nav-link" th:href="@{/index}">Home</a></li>
   	   <li><a class="dropdown-item" th:href="@{/LogIn}">Log Out</a></li>
       <li><a class="dropdown-item" th:href="@{/NewEmploye}">New Emplye</a></li>
       <li>
       <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
</a>
<span sec:authentication="name"> </span>
       </li>
<!--        <li><a class="dropdown-item" th:href="#"></a> -->
<!--         -->

    </ul>
  </div>

</nav>

<section layout:fragment="content1"> 


</section>



</header>


<div layout:fragment="Header"> 

	<div class="container mt-2">
		<div class="card">
			<div class="card-header">Employes List</div>
			<div class="card-body">
				<form method="get" th:action="@{index}">
					<label >Keyword:</label>
					<input type="text" name="Keyword" th:value="${Keyword}"> 
				<button type="submit" class="btn btn-primary"> Search</button>
				</form>

				<table class="table">
					<thead>
						<tr>
							<th>Id</th>
							<th>Nom</th>
							<th>Prenom</th>
							<th>Dat Naissance</th>
							<th>Role</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="p:${ListEmployes}">
							<td th:text="${p.id}"></td>
							<td th:text="${p.Nom}"></td>
							<td th:text="${p.Prenom}"></td>
							<td th:text="${p.DatNaissance}"></td>
							<td th:text="${p.Role}"></td>
							<td>
							<a  class=" btn btn-success" th:href="@{UpdateEmploye(id=${p.id})}">Update</a>
							<a  class=" btn btn-danger" th:href="@{delete(id=${p.id})}">Delete</a>
<!-- 							<a onclick="return  confirm('Are you sure You want to delete this employe')" class=" btn btn-danger" th:href="@{delete(id=${p.id})}">Delete</a> -->
									
							</td>
						</tr>
					</tbody>

				</table>

<!-- 				<ul class="nav nav-pills"> -->

<!-- 					<li th:each="page,status:${pages}"> -->
<!-- 					<a th:class="${status.index==currentPage?'btn btn-primary ms-1' :'btn btn-outline-primary ms-1 '}" -->
<!-- 						th:text="${status.index}" -->
<!-- 						th:href="@{/index(page=${status.index, Keyword=${Keyword})}">  -->
						
<!-- 						</a> -->
<!-- 						</li> -->

<!-- 				</ul> -->

			</div>

		</div>

	</div>

	</div>
</body>
</html>